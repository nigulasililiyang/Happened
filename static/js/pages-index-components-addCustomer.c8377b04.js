(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-components-addCustomer"],{"0a87":function(t,e,n){var o=n("80f0");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("fcc9277e",o,!0,{sourceMap:!1,shadowMode:!1})},"1f5f":function(t,e,n){var o=n("5446");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("4049950e",o,!0,{sourceMap:!1,shadowMode:!1})},5446:function(t,e,n){var o=n("4bad");e=o(!1),e.push([t.i,".form-title[data-v-f2d90f38]{font-size:14px;color:#999;padding:20px 16px 8px 16px}.form-item[data-v-f2d90f38]{height:48px;line-height:48px;font-size:16px;border-bottom:solid .5px #e6e6e6;background-color:#fff}.placeholder[data-v-f2d90f38]{color:#ccc}.left-icon[data-v-f2d90f38]{min-width:88px;font-size:16px;font-weight:500;color:#1d1e1f;line-height:30px}",""]),t.exports=e},"5f87":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getToken=i,e.setToken=a,e.removeToken=r,e.getUser=s,e.setUser=c,e.removeUser=u;var o="Admin-Token";function i(){try{var t=uni.getStorageSync(o);return t}catch(e){}}function a(t){try{uni.setStorageSync(o,t)}catch(e){}}function r(){try{uni.removeStorageSync(o)}catch(t){}}function s(){try{var t=uni.getStorageSync("User");return t}catch(e){}}function c(t){try{uni.setStorageSync("User",t),a(t.en_user_id)}catch(e){}}function u(){try{uni.removeStorageSync("User"),uni.removeStorageSync(o)}catch(t){}}},"69f1":function(t,e,n){"use strict";var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("5530")),a=n("f6b0"),r={data:function(){return{contact:{addressForm:{}},noRight:{width:"0px"},customer:{},is_important:!1,is_time_out:!1}},methods:{chooseAddress:function(t,e){var n=this;uni.chooseLocation({success:function(e){switch(console.log(e),t){case"company":n.customer=(0,i.default)((0,i.default)({},n.customer),{},{company_address_detail:e.name,company_long_lat_address:e.address,company_longitude:e.longitude,company_latitude:e.latitude});break;case"home":n.customer=(0,i.default)((0,i.default)({},n.customer),{},{home_address_detail:e.name,home_long_lat_address:e.address,home_longitude:e.longitude,home_latitude:e.latitude});break;case"other":break;default:break}}})},onLeft:function(){uni.navigateBack({delta:1})},onRight:function(){var t=this.$u.deepClone(this.customer);t.is_important=1==this.is_important?1:0,t.is_time_out=1==this.is_time_out?1:0,console.log(t),(0,a.addCustomer)(t).then((function(t){uni.showToast({title:"添加成功",success:function(){setTimeout((function(){uni.navigateBack({delta:1})}),1e3)}})}))}}};e.default=r},"6f41":function(t,e,n){"use strict";n.r(e);var o=n("a360"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"751a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("5f87");function i(t){var e=t.url,n={},i=t.data;t.params&&(i=t.params,n["content-type"]="application/x-www-form-urlencoded;");var a="/dev-api";return uni.request({url:a+e,data:i,method:t.method.toUpperCase(),header:n}).then((function(t){var e=t[1],n=t[0];if(null!=n)return uni.showToast({title:n.errMsg,duration:2e3,icon:"none"}),t[0];if(200==e.statusCode){var i=e.data;return"login"!==i.field||i.success?i.success||uni.showToast({title:i.message,duration:2e3,icon:"none"}):((0,o.removeToken)(),uni.reLaunch({url:"/pages/login/index"})),i}return t[0]}))}var a=i;e.default=a},7593:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={uniNavBar:n("f28b").default,uForm:n("aa8f").default,uField:n("c732").default,uIcon:n("f86b").default,uCellGroup:n("c149").default,uCellItem:n("065d").default,uGap:n("3ad8").default,uSwitch:n("89f2").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-nav-bar",{attrs:{"left-icon":"back","left-text":"取消","right-text":"保存",title:"新建联系人",fixed:!0,statusBar:!0},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.onLeft.apply(void 0,arguments)},clickRight:function(e){arguments[0]=e=t.$handleEvent(e),t.onRight.apply(void 0,arguments)}}}),n("v-uni-scroll-view",{staticStyle:{height:"calc(100vh - 44px)"},attrs:{"scroll-y":!0}},[n("u-form",{staticStyle:{"background-color":"#FFFFFF"}},[n("u-field",{attrs:{placeholder:"姓名"},model:{value:t.customer.Name,callback:function(e){t.$set(t.customer,"Name",e)},expression:"customer.Name"}},[n("v-uni-view",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"},[t._v("姓名")])],1),n("u-field",{attrs:{placeholder:"常用电话",type:"number"},model:{value:t.customer.Phone,callback:function(e){t.$set(t.customer,"Phone",e)},expression:"customer.Phone"}},[n("v-uni-view",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"},[t._v("电话")])],1),n("u-field",{attrs:{placeholder:"所在公司"},model:{value:t.customer.Company,callback:function(e){t.$set(t.customer,"Company",e)},expression:"customer.Company"}},[n("v-uni-view",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"},[t._v("公司")])],1)],1),n("v-uni-view",{staticClass:"form-title"},[n("u-icon",{staticStyle:{"padding-right":"8px"},attrs:{name:"icon iconfont icon-a-16-gongsi"}}),t._v("单位地址")],1),n("u-cell-group",[n("u-cell-item",{attrs:{arrow:!1,"title-width":"100%","icon-style":t.noRight},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseAddress("company")}}},[n("v-uni-input",{staticStyle:{width:"calc(100vw - 48px)"},attrs:{slot:"title",placeholder:"单位地址",disabled:!0},slot:"title",model:{value:t.customer.company_long_lat_address,callback:function(e){t.$set(t.customer,"company_long_lat_address",e)},expression:"customer.company_long_lat_address"}}),n("u-icon",{attrs:{slot:"right-icon",name:"icon iconfont icon-a-20-dingwei",size:"32"},slot:"right-icon"})],1),n("u-cell-item",{attrs:{arrow:!1,"title-width":"100%","icon-style":t.noRight}},[n("v-uni-input",{staticStyle:{width:"calc(100vw - 48px)"},attrs:{slot:"title",placeholder:"详细地址"},slot:"title",model:{value:t.customer.company_address_detail,callback:function(e){t.$set(t.customer,"company_address_detail",e)},expression:"customer.company_address_detail"}})],1)],1),n("v-uni-view",{staticClass:"form-title"},[n("u-icon",{staticStyle:{"padding-right":"8px"},attrs:{name:"icon iconfont icon-a-16-zhuzhi"}}),t._v("家庭住址")],1),n("u-cell-group",[n("u-cell-item",{attrs:{arrow:!1,"title-width":"100%","icon-style":t.noRight},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseAddress("home",t.index)}}},[n("v-uni-input",{staticStyle:{width:"calc(100vw - 48px)"},attrs:{slot:"title",placeholder:"家庭地址",disabled:!0},slot:"title",model:{value:t.customer.home_long_lat_address,callback:function(e){t.$set(t.customer,"home_long_lat_address",e)},expression:"customer.home_long_lat_address"}}),n("u-icon",{attrs:{slot:"right-icon",name:"icon iconfont icon-a-20-dingwei",size:"32"},slot:"right-icon"})],1),n("u-cell-item",{attrs:{arrow:!1,"title-width":"100%","icon-style":t.noRight}},[n("v-uni-input",{staticStyle:{width:"calc(100vw - 48px)"},attrs:{slot:"title",placeholder:"详细地址"},slot:"title",model:{value:t.customer.home_address_detail,callback:function(e){t.$set(t.customer,"home_address_detail",e)},expression:"customer.home_address_detail"}})],1)],1),n("u-gap"),n("u-cell-group",[n("u-cell-item",{attrs:{arrow:!1}},[n("v-uni-view",{staticStyle:{"font-size":"16px",color:"#333333"},attrs:{slot:"title"},slot:"title"},[t._v("添加更多地址")]),n("v-uni-view",{staticStyle:{"padding-right":"8px"},attrs:{slot:"icon"},slot:"icon"},[n("u-icon",{staticStyle:{"border-radius":"24px","background-color":"#0055FF",color:"rgb(230 238 255",border:"none"},attrs:{name:"icon iconfont icon-a-24-tianjia",size:"48"}})],1)],1)],1),n("u-gap"),n("u-field",{staticStyle:{background:"#FFFFFF"},attrs:{placeholder:"描述"},model:{value:t.customer.remark,callback:function(e){t.$set(t.customer,"remark",e)},expression:"customer.remark"}},[n("v-uni-view",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"},[t._v("备注")])],1),n("u-gap"),n("u-cell-group",[n("u-cell-item",{attrs:{arrow:!1}},[n("v-uni-view",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"},[n("u-icon",{staticStyle:{"padding-right":"8px"},attrs:{name:"icon iconfont icon-a-20-guanzhu",size:"48"}}),t._v("设为关注")],1),n("u-switch",{attrs:{slot:"right-icon","active-color":"#0055FF ","inactive-color":"#D9DADE"},slot:"right-icon",model:{value:t.is_important,callback:function(e){t.is_important=e},expression:"is_important"}})],1),n("u-cell-item",{attrs:{arrow:!1}},[n("v-uni-view",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"},[n("u-icon",{staticStyle:{"padding-right":"8px"},attrs:{name:"icon iconfont icon-a-20-chaoshiyincang",size:"48"}}),t._v("超时隐藏")],1),n("u-switch",{attrs:{slot:"right-icon","active-color":"#0055FF ","inactive-color":"#D9DADE"},slot:"right-icon",model:{value:t.is_time_out,callback:function(e){t.is_time_out=e},expression:"is_time_out"}})],1)],1),n("u-gap",{attrs:{height:"200"}})],1)],1)},a=[]},"80f0":function(t,e,n){var o=n("4bad");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),t.exports=e},a360:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("d81d"),n("d3b7"),n("c975");var o={name:"u-form",props:{model:{type:Object,default:function(){return{}}},errorType:{type:Array,default:function(){return["message","toast"]}},borderBottom:{type:Boolean,default:!0},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:90},labelAlign:{type:String,default:"left"},labelStyle:{type:Object,default:function(){return{}}}},provide:function(){return{uForm:this}},data:function(){return{rules:{}}},created:function(){this.fields=[]},methods:{setRules:function(t){this.rules=t},resetFields:function(){this.fields.map((function(t){t.resetField()}))},validate:function(t){var e=this;return new Promise((function(n){var o=!0,i=0,a=[];e.fields.map((function(r){r.validation("",(function(r){r&&(o=!1,a.push(r)),++i===e.fields.length&&(n(o),-1===e.errorType.indexOf("none")&&e.errorType.indexOf("toast")>=0&&a.length&&e.$u.toast(a[0]),"function"==typeof t&&t(o))}))}))}))}}};e.default=o},aa8f:function(t,e,n){"use strict";n.r(e);var o=n("b0df"),i=n("6f41");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("ecb9");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"1f4305a4",null,!1,o["a"],r);e["default"]=c.exports},b0df:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-form"},[t._t("default")],2)},a=[]},c06e:function(t,e,n){"use strict";n.r(e);var o=n("7593"),i=n("e877");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("e9c4");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"f2d90f38",null,!1,o["a"],r);e["default"]=c.exports},e877:function(t,e,n){"use strict";n.r(e);var o=n("69f1"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},e9c4:function(t,e,n){"use strict";var o=n("1f5f"),i=n.n(o);i.a},ecb9:function(t,e,n){"use strict";var o=n("0a87"),i=n.n(o);i.a},f6b0:function(t,e,n){"use strict";var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getCustomerInfo=s,e.changeCustomerSet=c,e.addCustomer=u,e.getCustomerList=l,e.getCustomerList2=d;var i=o(n("5530")),a=o(n("751a")),r=n("5f87");function s(t,e){return(0,a.default)({url:"/linkerapi/getCustomerInfo/".concat(t),method:"POST",params:(0,i.default)((0,i.default)({},e),{},{en_user_id:(0,r.getToken)()})})}function c(t){return(0,a.default)({url:"/linkerapi/change_customer_set",method:"POST",params:(0,i.default)((0,i.default)({},t),{},{en_user_id:(0,r.getToken)()})})}function u(t){return(0,a.default)({url:"/linkerapi/addCustomer",method:"POST",params:(0,i.default)((0,i.default)({},t),{},{en_user_id:(0,r.getToken)()})})}function l(t){return(0,a.default)({url:"/linkerapi/get_customer_list",method:"POST",params:(0,i.default)((0,i.default)({},t),{},{en_user_id:(0,r.getToken)()})})}function d(t){return(0,a.default)({url:"/linkerapi/get_customer_list2",method:"POST",params:(0,i.default)((0,i.default)({},t),{},{en_user_id:(0,r.getToken)()})})}}}]);